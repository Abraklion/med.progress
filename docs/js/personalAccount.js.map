{"version":3,"file":"personalAccount.js","mappings":"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","sources":["webpack://gulp-html-scss/./src/js/modules/mask.js","webpack://gulp-html-scss/./src/js/personalAccount.js","webpack://gulp-html-scss/./src/js/modules/validator.js","webpack://gulp-html-scss/./node_modules/jquery-validation/dist/localization/messages_ru.js","webpack://gulp-html-scss/./node_modules/jquery.maskedinput/src/jquery.maskedinput.js"],"sourcesContent":["import $ from \"jquery\";\r\nimport 'jquery.maskedinput/src/jquery.maskedinput'\r\n\r\n/**\r\n * Настройки масок\r\n */\r\nconst mask = () => {\r\n\r\n  // маска для даты\r\n  $(\".js-datepicker\").mask('99.99.99')\r\n\r\n  // маска времени\r\n  $(\".js-time\").mask('99:99')\r\n\r\n  // маска телефона\r\n  $.mask.definitions['h'] = \"[0|1|3|4|5|6|7|9]\"\r\n  $(\".js-phone\").mask('+7 (h99) 999 99 99')\r\n\r\n}\r\n\r\nexport default mask;\r\n","import mask from \"./modules/mask\";\nimport validator from \"./modules/validator\";\n\nwindow.addEventListener('DOMContentLoaded', () => {\n\n  // Маски\n  mask()\n\n  // Валидация форм\n  validator()\n\n})\n","import $ from 'jquery'\r\nimport 'jquery-validation'\r\nimport 'jquery-validation/dist/localization/messages_ru'\r\n\r\n/**\r\n * Валидация форм\r\n */\r\nconst validator = () => {\r\n\r\n  jQuery.validator.addClassRules(\"js-required-validate\", {\r\n    required: true\r\n  });\r\n\r\n  jQuery.validator.addClassRules(\"js-email-validate\", {\r\n    email: true\r\n  });\r\n\r\n  jQuery.validator.addClassRules(\"js-password-validate\", {\r\n    equalTo: \"#password\"\r\n  });\r\n\r\n  let a = $('.js-validate').validate({\r\n    debug: false,\r\n\r\n    // -> класс добавляется к полю, если оно валидно (по умолчанию: \"valid\")\r\n    validClass: 'sForm__valid',\r\n\r\n    // -> класс добавляется к сообщению и полю, если оно НЕ валидно (по умолчанию: \"error\")\r\n    errorClass: 'sForm__invalid-all',\r\n\r\n    // -> тэг который будет создаваться, в него записываться сообщения (по умолчанию: \"label\")\r\n    errorElement: 'span',\r\n\r\n    // отмены изменений, сделанных опцией highlight\r\n    unhighlight: function(element, errorClass, validClass) {\r\n      $(element).removeClass(errorClass).addClass(validClass);\r\n\r\n      if(!$(element).val()) {\r\n        $(element).removeClass(validClass);\r\n      }\r\n\r\n      if($(element).attr('id') === 'phone') {\r\n        console.log($(element).val().search('_'))\r\n        if ($(element).val().search('_') !== -1) {\r\n          $(element).removeClass(validClass);\r\n        }\r\n      }\r\n\r\n\r\n    },\r\n  })\r\n\r\n  console.log(a)\r\n\r\n}\r\n\r\nexport default validator;\r\n","(function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\t\tdefine( [\"jquery\", \"../jquery.validate\"], factory );\n\t} else if (typeof module === \"object\" && module.exports) {\n\t\tmodule.exports = factory( require( \"jquery\" ) );\n\t} else {\n\t\tfactory( jQuery );\n\t}\n}(function( $ ) {\n\n/*\n * Translated default messages for the jQuery validation plugin.\n * Locale: RU (Russian; русский язык)\n */\n$.extend( $.validator.messages, {\n\trequired: \"Это поле необходимо заполнить.\",\n\tremote: \"Пожалуйста, введите правильное значение.\",\n\temail: \"Пожалуйста, введите корректный адрес электронной почты.\",\n\turl: \"Пожалуйста, введите корректный URL.\",\n\tdate: \"Пожалуйста, введите корректную дату.\",\n\tdateISO: \"Пожалуйста, введите корректную дату в формате ISO.\",\n\tnumber: \"Пожалуйста, введите число.\",\n\tdigits: \"Пожалуйста, вводите только цифры.\",\n\tcreditcard: \"Пожалуйста, введите правильный номер кредитной карты.\",\n\tequalTo: \"Пожалуйста, введите такое же значение ещё раз.\",\n\textension: \"Пожалуйста, выберите файл с правильным расширением.\",\n\tmaxlength: $.validator.format( \"Пожалуйста, введите не больше {0} символов.\" ),\n\tminlength: $.validator.format( \"Пожалуйста, введите не меньше {0} символов.\" ),\n\trangelength: $.validator.format( \"Пожалуйста, введите значение длиной от {0} до {1} символов.\" ),\n\trange: $.validator.format( \"Пожалуйста, введите число от {0} до {1}.\" ),\n\tmax: $.validator.format( \"Пожалуйста, введите число, меньшее или равное {0}.\" ),\n\tmin: $.validator.format( \"Пожалуйста, введите число, большее или равное {0}.\" )\n} );\nreturn $;\n}));","(function (factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(['jquery'], factory);\n    } else if (typeof exports === 'object') {\n        // Node/CommonJS\n        factory(require('jquery'));\n    } else {\n        // Browser globals\n        factory(jQuery);\n    }\n}(function ($) {\n\nvar ua = navigator.userAgent,\n\tiPhone = /iphone/i.test(ua),\n\tchrome = /chrome/i.test(ua),\n\tandroid = /android/i.test(ua),\n\tcaretTimeoutId;\n\n$.mask = {\n\t//Predefined character definitions\n\tdefinitions: {\n\t\t'9': \"[0-9]\",\n\t\t'a': \"[A-Za-z]\",\n\t\t'*': \"[A-Za-z0-9]\"\n\t},\n\tautoclear: true,\n\tdataName: \"rawMaskFn\",\n\tplaceholder: '_'\n};\n\n$.fn.extend({\n\t//Helper Function for Caret positioning\n\tcaret: function(begin, end) {\n\t\tvar range;\n\n\t\tif (this.length === 0 || this.is(\":hidden\") || this.get(0) !== document.activeElement) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (typeof begin == 'number') {\n\t\t\tend = (typeof end === 'number') ? end : begin;\n\t\t\treturn this.each(function() {\n\t\t\t\tif (this.setSelectionRange) {\n\t\t\t\t\tthis.setSelectionRange(begin, end);\n\t\t\t\t} else if (this.createTextRange) {\n\t\t\t\t\trange = this.createTextRange();\n\t\t\t\t\trange.collapse(true);\n\t\t\t\t\trange.moveEnd('character', end);\n\t\t\t\t\trange.moveStart('character', begin);\n\t\t\t\t\trange.select();\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tif (this[0].setSelectionRange) {\n\t\t\t\tbegin = this[0].selectionStart;\n\t\t\t\tend = this[0].selectionEnd;\n\t\t\t} else if (document.selection && document.selection.createRange) {\n\t\t\t\trange = document.selection.createRange();\n\t\t\t\tbegin = 0 - range.duplicate().moveStart('character', -100000);\n\t\t\t\tend = begin + range.text.length;\n\t\t\t}\n\t\t\treturn { begin: begin, end: end };\n\t\t}\n\t},\n\tunmask: function() {\n\t\treturn this.trigger(\"unmask\");\n\t},\n\tmask: function(mask, settings) {\n\t\tvar input,\n\t\t\tdefs,\n\t\t\ttests,\n\t\t\tpartialPosition,\n\t\t\tfirstNonMaskPos,\n            lastRequiredNonMaskPos,\n            len,\n            oldVal;\n\n\t\tif (!mask && this.length > 0) {\n\t\t\tinput = $(this[0]);\n            var fn = input.data($.mask.dataName)\n\t\t\treturn fn?fn():undefined;\n\t\t}\n\n\t\tsettings = $.extend({\n\t\t\tautoclear: $.mask.autoclear,\n\t\t\tplaceholder: $.mask.placeholder, // Load default placeholder\n\t\t\tcompleted: null\n\t\t}, settings);\n\n\n\t\tdefs = $.mask.definitions;\n\t\ttests = [];\n\t\tpartialPosition = len = mask.length;\n\t\tfirstNonMaskPos = null;\n\n\t\tmask = String(mask);\n\n\t\t$.each(mask.split(\"\"), function(i, c) {\n\t\t\tif (c == '?') {\n\t\t\t\tlen--;\n\t\t\t\tpartialPosition = i;\n\t\t\t} else if (defs[c]) {\n\t\t\t\ttests.push(new RegExp(defs[c]));\n\t\t\t\tif (firstNonMaskPos === null) {\n\t\t\t\t\tfirstNonMaskPos = tests.length - 1;\n\t\t\t\t}\n                if(i < partialPosition){\n                    lastRequiredNonMaskPos = tests.length - 1;\n                }\n\t\t\t} else {\n\t\t\t\ttests.push(null);\n\t\t\t}\n\t\t});\n\n\t\treturn this.trigger(\"unmask\").each(function() {\n\t\t\tvar input = $(this),\n\t\t\t\tbuffer = $.map(\n    \t\t\t\tmask.split(\"\"),\n    \t\t\t\tfunction(c, i) {\n    \t\t\t\t\tif (c != '?') {\n    \t\t\t\t\t\treturn defs[c] ? getPlaceholder(i) : c;\n    \t\t\t\t\t}\n    \t\t\t\t}),\n\t\t\t\tdefaultBuffer = buffer.join(''),\n\t\t\t\tfocusText = input.val();\n\n            function tryFireCompleted(){\n                if (!settings.completed) {\n                    return;\n                }\n\n                for (var i = firstNonMaskPos; i <= lastRequiredNonMaskPos; i++) {\n                    if (tests[i] && buffer[i] === getPlaceholder(i)) {\n                        return;\n                    }\n                }\n                settings.completed.call(input);\n            }\n\n            function getPlaceholder(i){\n                if(i < settings.placeholder.length)\n                    return settings.placeholder.charAt(i);\n                return settings.placeholder.charAt(0);\n            }\n\n\t\t\tfunction seekNext(pos) {\n\t\t\t\twhile (++pos < len && !tests[pos]);\n\t\t\t\treturn pos;\n\t\t\t}\n\n\t\t\tfunction seekPrev(pos) {\n\t\t\t\twhile (--pos >= 0 && !tests[pos]);\n\t\t\t\treturn pos;\n\t\t\t}\n\n\t\t\tfunction shiftL(begin,end) {\n\t\t\t\tvar i,\n\t\t\t\t\tj;\n\n\t\t\t\tif (begin<0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tfor (i = begin, j = seekNext(end); i < len; i++) {\n\t\t\t\t\tif (tests[i]) {\n\t\t\t\t\t\tif (j < len && tests[i].test(buffer[j])) {\n\t\t\t\t\t\t\tbuffer[i] = buffer[j];\n\t\t\t\t\t\t\tbuffer[j] = getPlaceholder(j);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tj = seekNext(j);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\twriteBuffer();\n\t\t\t\tinput.caret(Math.max(firstNonMaskPos, begin));\n\t\t\t}\n\n\t\t\tfunction shiftR(pos) {\n\t\t\t\tvar i,\n\t\t\t\t\tc,\n\t\t\t\t\tj,\n\t\t\t\t\tt;\n\n\t\t\t\tfor (i = pos, c = getPlaceholder(pos); i < len; i++) {\n\t\t\t\t\tif (tests[i]) {\n\t\t\t\t\t\tj = seekNext(i);\n\t\t\t\t\t\tt = buffer[i];\n\t\t\t\t\t\tbuffer[i] = c;\n\t\t\t\t\t\tif (j < len && tests[j].test(t)) {\n\t\t\t\t\t\t\tc = t;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction androidInputEvent(e) {\n\t\t\t\tvar curVal = input.val();\n\t\t\t\tvar pos = input.caret();\n\t\t\t\tif (oldVal && oldVal.length && oldVal.length > curVal.length ) {\n\t\t\t\t\t// a deletion or backspace happened\n\t\t\t\t\tcheckVal(true);\n\t\t\t\t\twhile (pos.begin > 0 && !tests[pos.begin-1])\n\t\t\t\t\t\tpos.begin--;\n\t\t\t\t\tif (pos.begin === 0)\n\t\t\t\t\t{\n\t\t\t\t\t\twhile (pos.begin < firstNonMaskPos && !tests[pos.begin])\n\t\t\t\t\t\t\tpos.begin++;\n\t\t\t\t\t}\n\t\t\t\t\tinput.caret(pos.begin,pos.begin);\n\t\t\t\t} else {\n\t\t\t\t\tvar pos2 = checkVal(true);\n\t\t\t\t\tvar lastEnteredValue = curVal.charAt(pos.begin);\n\t\t\t\t\tif (pos.begin < len){\n\t\t\t\t\t\tif(!tests[pos.begin]){\n\t\t\t\t\t\t\tpos.begin++;\n\t\t\t\t\t\t\tif(tests[pos.begin].test(lastEnteredValue)){\n\t\t\t\t\t\t\t\tpos.begin++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(tests[pos.begin].test(lastEnteredValue)){\n\t\t\t\t\t\t\t\tpos.begin++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tinput.caret(pos.begin,pos.begin);\n\t\t\t\t}\n\t\t\t\ttryFireCompleted();\n\t\t\t}\n\n\n\t\t\tfunction blurEvent(e) {\n                checkVal();\n\n                if (input.val() != focusText)\n                    input.change();\n            }\n\n\t\t\tfunction keydownEvent(e) {\n                if (input.prop(\"readonly\")){\n                    return;\n                }\n\n\t\t\t\tvar k = e.which || e.keyCode,\n\t\t\t\t\tpos,\n\t\t\t\t\tbegin,\n\t\t\t\t\tend;\n                    oldVal = input.val();\n\t\t\t\t//backspace, delete, and escape get special treatment\n\t\t\t\tif (k === 8 || k === 46 || (iPhone && k === 127)) {\n\t\t\t\t\tpos = input.caret();\n\t\t\t\t\tbegin = pos.begin;\n\t\t\t\t\tend = pos.end;\n\n\t\t\t\t\tif (end - begin === 0) {\n\t\t\t\t\t\tbegin=k!==46?seekPrev(begin):(end=seekNext(begin-1));\n\t\t\t\t\t\tend=k===46?seekNext(end):end;\n\t\t\t\t\t}\n\t\t\t\t\tclearBuffer(begin, end);\n\t\t\t\t\tshiftL(begin, end - 1);\n\n\t\t\t\t\te.preventDefault();\n\t\t\t\t} else if( k === 13 ) { // enter\n\t\t\t\t\tblurEvent.call(this, e);\n\t\t\t\t} else if (k === 27) { // escape\n\t\t\t\t\tinput.val(focusText);\n\t\t\t\t\tinput.caret(0, checkVal());\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction keypressEvent(e) {\n                if (input.prop(\"readonly\")){\n                    return;\n                }\n\n\t\t\t\tvar k = e.which || e.keyCode,\n\t\t\t\t\tpos = input.caret(),\n\t\t\t\t\tp,\n\t\t\t\t\tc,\n\t\t\t\t\tnext;\n\n\t\t\t\tif (e.ctrlKey || e.altKey || e.metaKey || k < 32) {//Ignore\n\t\t\t\t\treturn;\n\t\t\t\t} else if ( k && k !== 13 ) {\n\t\t\t\t\tif (pos.end - pos.begin !== 0){\n\t\t\t\t\t\tclearBuffer(pos.begin, pos.end);\n\t\t\t\t\t\tshiftL(pos.begin, pos.end-1);\n\t\t\t\t\t}\n\n\t\t\t\t\tp = seekNext(pos.begin - 1);\n\t\t\t\t\tif (p < len) {\n\t\t\t\t\t\tc = String.fromCharCode(k);\n\t\t\t\t\t\tif (tests[p].test(c)) {\n\t\t\t\t\t\t\tshiftR(p);\n\n\t\t\t\t\t\t\tbuffer[p] = c;\n\t\t\t\t\t\t\twriteBuffer();\n\t\t\t\t\t\t\tnext = seekNext(p);\n\n\t\t\t\t\t\t\tif(android){\n\t\t\t\t\t\t\t\t//Path for CSP Violation on FireFox OS 1.1\n\t\t\t\t\t\t\t\tvar proxy = function() {\n\t\t\t\t\t\t\t\t\t$.proxy($.fn.caret,input,next)();\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\tsetTimeout(proxy,0);\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tinput.caret(next);\n\t\t\t\t\t\t\t}\n                            if(pos.begin <= lastRequiredNonMaskPos){\n\t\t                         tryFireCompleted();\n                             }\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction clearBuffer(start, end) {\n\t\t\t\tvar i;\n\t\t\t\tfor (i = start; i < end && i < len; i++) {\n\t\t\t\t\tif (tests[i]) {\n\t\t\t\t\t\tbuffer[i] = getPlaceholder(i);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction writeBuffer() { input.val(buffer.join('')); }\n\n\t\t\tfunction checkVal(allow) {\n\t\t\t\t//try to place characters where they belong\n\t\t\t\tvar test = input.val(),\n\t\t\t\t\tlastMatch = -1,\n\t\t\t\t\ti,\n\t\t\t\t\tc,\n\t\t\t\t\tpos;\n\n\t\t\t\tfor (i = 0, pos = 0; i < len; i++) {\n\t\t\t\t\tif (tests[i]) {\n\t\t\t\t\t\tbuffer[i] = getPlaceholder(i);\n\t\t\t\t\t\twhile (pos++ < test.length) {\n\t\t\t\t\t\t\tc = test.charAt(pos - 1);\n\t\t\t\t\t\t\tif (tests[i].test(c)) {\n\t\t\t\t\t\t\t\tbuffer[i] = c;\n\t\t\t\t\t\t\t\tlastMatch = i;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (pos > test.length) {\n\t\t\t\t\t\t\tclearBuffer(i + 1, len);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n                        if (buffer[i] === test.charAt(pos)) {\n                            pos++;\n                        }\n                        if( i < partialPosition){\n                            lastMatch = i;\n                        }\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (allow) {\n\t\t\t\t\twriteBuffer();\n\t\t\t\t} else if (lastMatch + 1 < partialPosition) {\n\t\t\t\t\tif (settings.autoclear || buffer.join('') === defaultBuffer) {\n\t\t\t\t\t\t// Invalid value. Remove it and replace it with the\n\t\t\t\t\t\t// mask, which is the default behavior.\n\t\t\t\t\t\tif(input.val()) input.val(\"\");\n\t\t\t\t\t\tclearBuffer(0, len);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Invalid value, but we opt to show the value to the\n\t\t\t\t\t\t// user and allow them to correct their mistake.\n\t\t\t\t\t\twriteBuffer();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\twriteBuffer();\n\t\t\t\t\tinput.val(input.val().substring(0, lastMatch + 1));\n\t\t\t\t}\n\t\t\t\treturn (partialPosition ? i : firstNonMaskPos);\n\t\t\t}\n\n\t\t\tinput.data($.mask.dataName,function(){\n\t\t\t\treturn $.map(buffer, function(c, i) {\n\t\t\t\t\treturn tests[i]&&c!=getPlaceholder(i) ? c : null;\n\t\t\t\t}).join('');\n\t\t\t});\n\n\n\t\t\tinput\n\t\t\t\t.one(\"unmask\", function() {\n\t\t\t\t\tinput\n\t\t\t\t\t\t.off(\".mask\")\n\t\t\t\t\t\t.removeData($.mask.dataName);\n\t\t\t\t})\n\t\t\t\t.on(\"focus.mask\", function() {\n                    if (input.prop(\"readonly\")){\n                        return;\n                    }\n\n\t\t\t\t\tclearTimeout(caretTimeoutId);\n\t\t\t\t\tvar pos;\n\n\t\t\t\t\tfocusText = input.val();\n\n\t\t\t\t\tpos = checkVal();\n\n\t\t\t\t\tcaretTimeoutId = setTimeout(function(){\n                        if(input.get(0) !== document.activeElement){\n                            return;\n                        }\n\t\t\t\t\t\twriteBuffer();\n\t\t\t\t\t\tif (pos == mask.replace(\"?\",\"\").length) {\n\t\t\t\t\t\t\tinput.caret(0, pos);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tinput.caret(pos);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 10);\n\t\t\t\t})\n\t\t\t\t.on(\"blur.mask\", blurEvent)\n\t\t\t\t.on(\"keydown.mask\", keydownEvent)\n\t\t\t\t.on(\"keypress.mask\", keypressEvent)\n\t\t\t\t.on(\"input.mask paste.mask\", function() {\n                    if (input.prop(\"readonly\")){\n                        return;\n                    }\n\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tvar pos=checkVal(true);\n\t\t\t\t\t\tinput.caret(pos);\n                        tryFireCompleted();\n\t\t\t\t\t}, 0);\n\t\t\t\t});\n                if (chrome && android)\n                {\n                    input\n                        .off('input.mask')\n                        .on('input.mask', androidInputEvent);\n                }\n\t\t\t\tcheckVal(); //Perform initial check for existing values\n\t\t});\n\t}\n});\n}));\n"],"names":["$","mask","window","addEventListener","jQuery","validator","addClassRules","required","email","equalTo","a","validate","debug","validClass","errorClass","errorElement","unhighlight","element","removeClass","addClass","val","attr","console","log","search","extend","messages","remote","url","date","dateISO","number","digits","creditcard","extension","maxlength","format","minlength","rangelength","range","max","min","caretTimeoutId","ua","navigator","userAgent","iPhone","test","chrome","android","definitions","autoclear","dataName","placeholder","fn","caret","begin","end","this","length","is","get","document","activeElement","each","setSelectionRange","createTextRange","collapse","moveEnd","moveStart","select","selectionStart","selectionEnd","selection","createRange","duplicate","text","unmask","trigger","settings","defs","tests","partialPosition","firstNonMaskPos","lastRequiredNonMaskPos","len","oldVal","data","undefined","completed","String","split","i","c","push","RegExp","input","buffer","map","getPlaceholder","defaultBuffer","join","focusText","tryFireCompleted","call","charAt","seekNext","pos","shiftL","j","writeBuffer","Math","blurEvent","e","checkVal","change","clearBuffer","start","allow","lastMatch","substring","one","off","removeData","on","prop","clearTimeout","setTimeout","replace","k","which","keyCode","seekPrev","preventDefault","p","next","ctrlKey","altKey","metaKey","fromCharCode","t","shiftR","proxy","curVal","lastEnteredValue"],"sourceRoot":""}